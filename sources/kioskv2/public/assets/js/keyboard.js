!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):e.KioskBoard=t(e)}("undefined"==typeof global?"undefined"==typeof window?this:window:global,function(_){"use strict";if(void 0!==_||void 0!==_.document){var c,Z,t={keysArrayOfObjects:null,keysJsonUrl:null,specialCharactersObject:null,language:"en",theme:"light",capsLockActive:!0,allowRealKeyboard:!1,allowMobileKeyboard:!1,cssAnimations:!0,cssAnimationsDuration:360,cssAnimationsStyle:"slide",keysAllowSpacebar:!0,keysSpacebarText:"Space",keysFontFamily:"sans-serif",keysFontSize:"22px",keysFontWeight:"normal",keysIconSize:"25px",autoScroll:!0},d="https://github.com/furcan/KioskBoard",s=function(){var o={},a=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(a=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=a&&"[object Object]"===Object.prototype.toString.call(e[t])?s(o[t],e[t]):e[t])}(arguments[e]);return o},p=function(e){if(Array.isArray(e)&&0<e.length){var t=e[0];if("object"==typeof t&&!Array.isArray(t))for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))return!0}return!1},u=function(e){return console.error("%c KioskBoard (Error) ","padding:2px;border-radius:20px;color:#fff;background:#f44336","\n"+e)};"function"!=typeof _.Event&&(e.prototype=_.Event.prototype,_.Event=e);return{Init:function(e){e="object"!=typeof e||Array.isArray(e)?{}:e,Z=s(!0,t,e)},Merge:function(e){return e="object"!=typeof e||Array.isArray(e)?{}:e,Z?void(Z=s(!0,Z,e)):(u("You have to initialize KioskBoard before call the Merge function."),!1)},Run:function(e){if(!Z)return u("You have to initialize KioskBoard first. \n\nVisit to learn more: "+d),!1;var t=Z.keysArrayOfObjects,o=!1;if(p(t)&&(o=!0,c=t),!o){var a=Z.keysJsonUrl;if(!a)return u('You have to set the path of KioskBoard Keys JSON file to "keysJsonUrl" option. \n\nVisit to learn more: '+d),!1}function s(Q,e){var G=[e],t=null!==e.getAttribute("readonly"),$=!0===Z.allowMobileKeyboard;e.addEventListener("focus",function(){var t=Z,a=this,i=0,r=[],e=(a.dataset.kioskboardType||"").toLocaleLowerCase("en"),o=-1<["all","keyboard","numpad"].indexOf(e)?e:"all",s="true"===(a.dataset.kioskboardSpecialcharacters||"").toLocaleLowerCase("en"),l="string"==typeof t.language&&0<t.language.length?t.language.toLocaleLowerCase("en"):"en";$||(a.setAttribute("readonly","readonly"),a.blur());var n=(a.value||"").length,i=a.selectionStart||n,r=a.value.split(""),c="",d="string"==typeof t.keysFontFamily&&0<t.keysFontFamily.length?t.keysFontFamily:"sans-serif",p="string"==typeof t.keysFontSize&&0<t.keysFontSize.length?t.keysFontSize:"22px",u="string"==typeof t.keysFontWeight&&0<t.keysFontWeight.length?t.keysFontWeight:"normal",k=!0===t.capsLockActive,f="string"==typeof t.keysIconSize&&0<t.keysIconSize.length?t.keysIconSize:"25px",y=!0===t.keysAllowSpacebar,h='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key kioskboard-key-space '+(y?"spacebar-allowed":"spacebar-denied")+'" data-value="'+(y?" ":"")+'">'+("string"==typeof t.keysSpacebarText&&0<t.keysSpacebarText.length?t.keysSpacebarText:"Space")+"</span>",e='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key-capslock '+(k?"capslock-active":"")+'">'+('&nbsp;<svg id="KioskBoardIconCapslock" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="'+(m=(m=f)||25)+'" height="'+m+'" version="1.1" style="width:'+m+";height:"+m+";fill:"+("#707070"||"#707070")+';shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 200 200" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M61.8 148.97l76.4 0c6,0 10.91,4.9 10.91,10.9l0 27.24c0,5.99 -4.91,10.89 -10.91,10.89l-76.4 0c-6,0 -10.91,-4.9 -10.91,-10.89l0 -27.24c0,-6 4.91,-10.9 10.91,-10.9zm105.7 -60.38l-18.39 0 0 37.36c0,5.99 -4.91,10.89 -10.91,10.89l-76.4 0c-6,0 -10.91,-4.9 -10.91,-10.89l0 -37.36 -18.39 0c-2.65,0 -4.91,-1.47 -5.97,-3.89 -1.07,-2.42 -0.63,-5.08 1.16,-7.02l67.5 -73.57c1.28,-1.39 2.91,-2.11 4.81,-2.11 1.9,0 3.53,0.72 4.81,2.11l67.5 73.57c1.79,1.94 2.23,4.6 1.16,7.02 -1.06,2.42 -3.32,3.89 -5.97,3.89z"/></svg>')+"</span>",y='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key-backspace">'+('&nbsp;<svg id="KioskBoardIconBackspace" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="'+(n=(n=f)||25)+'" height="'+n+'" viewBox="0 0 612 612" style="width:'+n+";height:"+n+";fill:"+("#707070"||"#707070")+';" xml:space="preserve"><path d="M561,76.5H178.5c-17.85,0-30.6,7.65-40.8,22.95L0,306l137.7,206.55c10.2,12.75,22.95,22.95,40.8,22.95H561c28.05,0,51-22.95,51-51v-357C612,99.45,589.05,76.5,561,76.5z M484.5,397.8l-35.7,35.7L357,341.7l-91.8,91.8l-35.7-35.7l91.8-91.8l-91.8-91.8l35.7-35.7l91.8,91.8l91.8-91.8l35.7,35.7L392.7,306L484.5,397.8z"/></svg>')+"</span>",m="",g="";if(s){var v,b,n=parseInt(f)||25,m='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key-specialcharacter">'+(f=2*n+"px",'&nbsp;<svg id="KioskBoardIconSpecialCharacters" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="'+(f=(n=n+"px")?f||50:25)+'" height="'+n+'" version="1.1" style="width:'+f+";height:"+n+";fill:"+("#707070"||"#707070")+';shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 300 150" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 512 512"><path d="M34.19 79.43l1.99 -10.86 10.8 0 -1.96 10.86 -10.83 0zm264.98 -17.22l0 -9.63c0,-1.23 -1,-2.23 -2.24,-2.23l-74.48 0c-1.24,0 -2.24,1 -2.24,2.23l0 9.63c0,1.23 1,2.23 2.24,2.23l74.48 0c1.24,0 2.24,-1 2.24,-2.23zm0 35.22l0 -9.62c0,-1.23 -1,-2.23 -2.24,-2.23l-74.48 0c-1.24,0 -2.24,1 -2.24,2.23l0 9.62c0,1.23 1,2.24 2.24,2.24l74.48 0c1.24,0 2.24,-1.01 2.24,-2.24zm-153.98 -61.91l9.63 0c1.23,0 2.23,1.01 2.23,2.25l0 30.19 30.19 0c1.25,0 2.25,1.01 2.25,2.23l0 9.63c0,1.23 -1,2.23 -2.25,2.23l-30.19 0 0 30.19c0,1.25 -1,2.25 -2.23,2.25l-9.63 0c-1.23,0 -2.23,-1 -2.23,-2.25l0 -30.19 -30.19 0c-1.24,0 -2.25,-1 -2.25,-2.23l0 -9.63c0,-1.22 1.01,-2.23 2.25,-2.23l30.19 0 0 -30.19c0,-1.24 1,-2.25 2.23,-2.25zm-67.7 33.05c1.28,0 2.31,-1.03 2.31,-2.31l0 -9.2c0,-1.27 -1.03,-2.31 -2.31,-2.31l-13.93 0 2.95 -16.51c0.12,-0.68 -0.07,-1.37 -0.51,-1.89 -0.44,-0.53 -1.09,-0.83 -1.77,-0.83l-9.36 -0.01c0,0 0,0 0,0 -1.12,0 -2.08,0.8 -2.28,1.9l-3.12 17.34 -10.74 0 3.03 -16.49c0.12,-0.67 -0.06,-1.37 -0.5,-1.89 -0.44,-0.53 -1.09,-0.84 -1.77,-0.84l-9.48 -0.01c0,0 0,0 0,0 -1.12,0 -2.08,0.8 -2.28,1.9l-3.16 17.33 -21.43 0c-1.28,0 -2.31,1.04 -2.31,2.32l0 9.19c0,1.28 1.03,2.31 2.31,2.31l18.91 0 -1.98 10.86 -16.93 0c-1.28,0 -2.31,1.04 -2.31,2.31l0 9.2c0,1.28 1.03,2.31 2.31,2.31l14.41 0 -3.35 18.36c-0.12,0.67 0.06,1.37 0.5,1.89 0.44,0.53 1.09,0.84 1.78,0.84l9.36 0c1.12,0 2.08,-0.8 2.28,-1.9l3.53 -19.19 10.88 0 -3.31 18.42c-0.13,0.67 0.06,1.36 0.49,1.89 0.44,0.52 1.08,0.83 1.76,0.84l9.49 0.09c0,0 0.01,0 0.02,0 1.12,0 2.08,-0.81 2.28,-1.91l3.44 -19.33 20.79 0c1.28,0 2.31,-1.03 2.31,-2.31l0 -9.2c0,-1.27 -1.03,-2.31 -2.31,-2.31l-18.32 0 1.93 -10.86 16.39 0z"/></svg>')+"</span>",w={0:"!",1:"'",2:"^",3:"#",4:"+",5:"$",6:"%",7:"½",8:"&",9:"/",10:"{",11:"}",12:"(",13:")",14:"[",15:"]",16:"=",17:"*",18:"?",19:"\\",20:"-",21:"_",22:"|",23:"@",24:"€",25:"₺",26:"~",27:"æ",28:"ß",29:"<",30:">",31:",",32:";",33:".",34:":",35:"`"},x=t.specialCharactersObject;if("object"==typeof x)for(var L in x)Object.prototype.hasOwnProperty.call(x,L)&&(w=x);for(v in w)Object.prototype.hasOwnProperty.call(w,v)&&(b=w[v],g+='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key" data-index="'+v.toString()+'" data-value="'+b.toString()+'">'+b.toString()+"</span>")}if("numpad"===o){var S,E,B={0:"7",1:"8",2:"9",3:"4",4:"5",5:"6",6:"1",7:"2",8:"3",9:"0"},C="";for(S in B)Object.prototype.hasOwnProperty.call(B,S)&&(C+='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key kioskboard-key-'+(E=B[S]).toString()+'" data-index="'+S.toString()+'" data-value="'+E.toString()+'">'+E.toString()+"</span>");c+='<div class="kioskboard-row kioskboard-row-numpad">'+C+y+"</div>"}if("keyboard"===o||"all"===o){if("all"===o){var A,O,z={0:"1",1:"2",2:"3",3:"4",4:"5",5:"6",6:"7",7:"8",8:"9",9:"0"},j="";for(A in z)Object.prototype.hasOwnProperty.call(z,A)&&(j+='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key kioskboard-key-'+(O=z[A]).toString()+'" data-index="'+A.toString()+'" data-value="'+O.toString()+'">'+O.toString()+"</span>");c+='<div class="kioskboard-row kioskboard-row-top">'+j+"</div>"}for(var I=0;I<Q.length;I++){var K,T,M=Q[I],F="";for(K in M)Object.prototype.hasOwnProperty.call(M,K)&&(F+='<span style="font-family:'+d+",sans-serif;font-weight:"+u+";font-size:"+p+';" class="kioskboard-key kioskboard-key-'+(T=M[K]).toString().toLocaleLowerCase(l)+'" data-index="'+K.toString()+'" data-value="'+T.toString()+'">'+T.toString()+"</span>");c+='<div class="kioskboard-row kioskboard-row-dynamic">'+F+"</div>"}c+='<div class="kioskboard-row kioskboard-row-bottom '+(s?"kioskboard-with-specialcharacter":"")+'">'+e+m+h+y+"</div>",s&&(c+='<div class="kioskboard-row kioskboard-row-specialcharacters">'+('<span class="kioskboard-specialcharacter-close">'+('<svg version="1.1" id="KioskBoardIconClose" width="'+(N=(N="18px")||18)+'" height="'+N+'" style="width:'+N+";height:"+N+";fill:"+("#707070"||"#707070")+';" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 348.333 348.334" xml:space="preserve"><path d="M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554\tL279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z"/></svg>')+"</span>")+('<div class="kioskboard-specialcharacters-content">'+g+"</div>")+"</div>")}var s=(h=c,(y=_.document.createElement("div")).className="kioskboard-wrapper",y.innerHTML=h.trim(),y),N=!0===t.cssAnimations,h="no-animation",P="no-animation",D=0;N&&(h="kioskboard-with-animation",P="kioskboard-fade",D="number"==typeof t.cssAnimationsDuration?t.cssAnimationsDuration:360,"slide"===t.cssAnimationsStyle&&(P="kioskboard-slide"));var y="string"==typeof t.theme&&0<t.theme.length?t.theme.trim():"light",R=_.document.createElement("div");R.id="KioskBoard-VirtualKeyboard",R.classList.add("kioskboard-theme-"+y),R.classList.add(h),R.classList.add(P),R.classList.add(k?"kioskboard-touppercase":"kioskboard-tolowercase"),R.lang=l,R.style.webkitLocale='"'+l+'"',R.style.animationDuration=N?D+"ms":"",R.appendChild(s);var H=new Event("change",{bubbles:!0,cancelable:!0});a.addEventListener("keypress",function(e){return!0===t.allowRealKeyboard?void(r=this.value.split("")):(e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!(e.cancelBubble=!0))},!1),a.addEventListener("change",function(){var e=(this.value||"").length;i=this.selectionStart||e},!1);var Y,q,V,J,U,W,X=_.document.getElementById(R.id);X||(_.document.body.appendChild(R),X=_.document.getElementById(R.id),h=Math.round(_.innerHeight),N=Math.round(_.document.body.clientHeight),(s=Math.round(_.document.getElementById(R.id).offsetHeight))>Math.round(h/3*2)&&((Y=_.document.getElementById(R.id).getElementsByClassName("kioskboard-wrapper")[0]).style.maxHeight=Math.round(h/5*3)+"px",Y.style.overflowX="hidden",Y.style.overflowY="auto",Y.classList.add("kioskboard-overflow")),h=a.getBoundingClientRect().top||0,Y=_.document.documentElement.scrollTop||0,N<=(q=Math.round(h+Y)-50)+s&&((J=_.document.getElementById("KioskboardBodyPadding"))&&null!==J.parentNode&&J.parentNode.removeChild(J),(J=_.document.createRange()).selectNode(_.document.head),J=J.createContextualFragment('<style id="KioskboardBodyPadding">.kioskboard-body-padding {padding-bottom:'+s+"px !important;}</style>"),_.document.head.appendChild(J),_.document.body.classList.add("kioskboard-body-padding")),s=!0===t.autoScroll,V=!0===t.cssAnimations?"smooth":"auto",J=!0===t.cssAnimations&&"number"==typeof t.cssAnimationsDuration?t.cssAnimationsDuration:0,s&&((s=navigator.userAgent.toLocaleLowerCase("en")).indexOf("edge")<=-1&&s.indexOf(".net4")<=-1?U=setTimeout(function(){_.scrollTo({top:q,left:0,behavior:V}),clearTimeout(U)},J):_.document.documentElement.scrollTop=q),function(a){var e=_.document.getElementById(R.id).getElementsByClassName("kioskboard-key");if(e&&0<e.length)for(var t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t,o=a.selectionStart;0===o?t=0:(t=o,a.setSelectionRange(o,o)),e.preventDefault(),a.dispatchEvent(H),a.focus();e=this.dataset.value||"",e=k?e.toLocaleUpperCase(l):e.toLocaleLowerCase(l);r.splice(t,0,e),a.value=r.join(""),a.setSelectionRange(o+1,o+1);a.selectionStart},!1);var o=_.document.getElementById(R.id).getElementsByClassName("kioskboard-key-capslock")[0];o&&o.addEventListener("click",function(e){e.preventDefault(),a.focus(),k=this.classList.contains("capslock-active")?(this.classList.remove("capslock-active"),R.classList.add("kioskboard-tolowercase"),R.classList.remove("kioskboard-touppercase"),!1):(this.classList.add("capslock-active"),R.classList.remove("kioskboard-tolowercase"),R.classList.add("kioskboard-touppercase"),!0)},!1),(o=_.document.getElementById(R.id).getElementsByClassName("kioskboard-key-backspace")[0])&&o.addEventListener("click",function(e){var t=a.selectionStart;a.setSelectionRange(t,t),e.preventDefault(),a.dispatchEvent(H),a.focus(),r.splice(i-1,1),a.value=r.join(""),a.setSelectionRange(t-1,t-1)},!1);var s=_.document.getElementById(R.id).getElementsByClassName("kioskboard-key-specialcharacter")[0],n=_.document.getElementById(R.id).getElementsByClassName("kioskboard-row-specialcharacters")[0];s&&n&&s.addEventListener("click",function(e){e.preventDefault(),a.focus(),this.classList.contains("specialcharacter-active")?(this.classList.remove("specialcharacter-active"),n.classList.remove("kioskboard-specialcharacter-show")):(this.classList.add("specialcharacter-active"),n.classList.add("kioskboard-specialcharacter-show"))},!1),(o=_.document.getElementById(R.id).getElementsByClassName("kioskboard-specialcharacter-close")[0])&&s&&n&&o.addEventListener("click",function(e){e.preventDefault(),a.focus(),s.classList.remove("specialcharacter-active"),n.classList.remove("kioskboard-specialcharacter-show")},!1)}(a),W=function(e){var t,o;e.target===a||function(e,t){if(e.target===t)return!0;var o=t.querySelectorAll("*");if(o&&0<o.length)for(var a,s=0;s<o.length;s++)if(a=o[s],e.target===a)return!0;return!1}(e,X)||(R.classList.add(P+"-remove"),t=setTimeout(function(){null!==X.parentNode&&(X.parentNode.removeChild(X),_.document.body.classList.remove("kioskboard-body-padding"),_.document.removeEventListener("click",W)),clearTimeout(t)},D)),-1<G.indexOf(a)&&(o=setTimeout(function(){e.target.blur(),e.target.focus(),clearTimeout(o)},D))},_.document.addEventListener("click",W))}),e.addEventListener("focusout",function(){$||t||this.removeAttribute("readonly")})}if(!("string"==typeof e&&0<e.length))return u('"'+e+'" is not a valid selector.'),!1;var n=_.document.querySelectorAll(e);if(!(n&&0<n.length))return u('You called the KioskBoard with the "'+e+'" selector, but there is no such element on the document.'),!1;for(var i=0;i<n.length;i++){var r=n[i],l=((r||{}).tagName||"").toLocaleLowerCase("en");"input"===l||"textarea"===l?c?s(c,r):function(e,t){var o=(_.location||{}).protocol;if(["http:","data:","chrome:","chrome-extension:","https:"].indexOf(o)<=-1)return u("The Browser has blocked this request by CORS policy.");c||((o=new XMLHttpRequest).open("GET",e,!0),o.setRequestHeader("Content-type","application/json; charset=utf-8"),o.send(),o.onreadystatechange=function(){if(4===this.readyState){if(200!==this.status)return u("XMLHttpRequest has been failed. Please check your URL path or protocol."),!1;var e=this.responseText||[];if("string"==typeof e&&0<e.length){e=JSON.parse(e);if(!p(e))return u("Array of objects of the keys are not valid. \n\nVisit to learn more: "+d),!1;s(c=e,t)}}})}(a,r):(l='You have to call the "KioskBoard" with an ID/ClassName of an Input or a TextArea element. Your element\'s tag name is: "'+l+'". \n\nYou can visit the Documentation page to learn more. \n\nVisit: '+d,console.log("%c KioskBoard (Info) ","padding:2px;border-radius:20px;color:#fff;background:#00bcd4","\n"+l))}}}}function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=_.document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}});